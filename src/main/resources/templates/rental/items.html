<!DOCTYPE html>
<html lang="ko">
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet"
        th:href="@{/css/bootstrap.min.css}">
</head>
<body>
<div class="container" style="max-width: 1500px">
  <div class="py-5 text-center">
    <h2>rental 아이템 목록</h2>
    <p class="btn btn-secondary rounded-pill px-3" type="button">
      <a th:href="@{|/manage|}" style="color: white">Home</a>
    </p>
  </div>
    <p>*주의* 대여 품목 삭제시 연관된 학생들의 대여 현황도 삭제됩니다!</p>
    <p><a th:href="@{|/manage/rentals|}">Rental 현황</a><p>
  <hr class="my-4">
  <div>
    <table class="table">
      <thead>
      <tr>
        <th scope="col">품목</th>
        <th scope="col">잔여수량</th>
        <th scope="col">상태</th>
        <th scope="col">이름변경</th>
        <th scope="col">수량변경</th>
        <th scope="col">삭제</th>
      </tr>
      </thead>
      <tbody>
      <tr th:each="rentalItem : ${rentalItems}">
        <td th:text="${rentalItem.name}"></td>
        <td th:text="${rentalItem.remaining}"></td>
        <td th:text="${rentalItem.active}"></td>
        <td th:if="${rentalItem.active} == true">
          <form method="post" th:action="@{|/manage/rentals/items/${rentalItem.id}/rename|}">
            <input type="text" name="name" placeholder="품목 이름 변경">
            <button class="btn btn-primary" type="submit">변경</button>
          </form>
        </td>
        <td th:if="${rentalItem.active} == true">
          <form method="post" th:action="@{|/manage/rentals/items/${rentalItem.id}/update|}">
            <input type="text" name="count" placeholder="품목 수량 변경">
            <button class="btn btn-primary" type="submit">변경</button>
          </form>
        </td>
        <td th:if="${rentalItem.active} == true">
          <form method="post" th:action="@{|/manage/rentals/items/${rentalItem.id}/delete|}">
            <button class="btn btn-primary" type="submit">삭제</button>
          </form>
        </td>
      </tr>

      <nav aria-label="Page navigation example">
        <div class="input-group mb-3">
          <form method = "post" th:action="@{/manage/rentals/item}">
            <input type="text" name="name" placeholder="품목명">
            <input type="text" name="count" placeholder="수량">
            <button class="btn btn-outline-secondary" type="submit" id="button-addon2">추가</button>
          </form>
        </div>
      </nav>

      </tbody>
    </table>
  </div>
</div>

</body>
</html>